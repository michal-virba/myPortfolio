class App{constructor(){new Modal,new PageScroll,new TabbedComponent,new MenuFade,new Sticky,new RevealSections,new Skills,new LazyLoading,new Slider}}const app=new App,modal=document.querySelector(".modal"),overlay=document.querySelector(".overlay"),btnCloseModal=document.querySelector(".btn--close-modal"),btnsOpenModal=document.querySelectorAll(".btn--show-modal"),btnScrollTo=document.querySelector(".btn--scroll-to"),section2=document.querySelector("#section--2"),tabs=document.querySelectorAll(".skills__tab"),tabsContainer=document.querySelector(".skills__tab-container"),tabsContent=document.querySelectorAll(".skills__content"),nav=document.querySelector(".nav"),navBar=document.querySelector(".nav__links--bar"),navIcon=document.querySelector(".nav__link--icon");class Modal{constructor(){btnsOpenModal.forEach(e=>e.addEventListener("click",this.openModal));for(let e=0;e<btnsOpenModal.length;e++)btnsOpenModal[e].addEventListener("click",this.openModal);btnCloseModal.addEventListener("click",this.closeModal),overlay.addEventListener("click",this.closeModal),this.escKey()}openModal(e){e.preventDefault(),modal.classList.remove("hidden"),overlay.classList.remove("hidden")}closeModal(){modal.classList.add("hidden"),overlay.classList.add("hidden")}escKey(){document.addEventListener("keydown",e=>{"Escape"!==e.key||modal.classList.contains("hidden")||this.closeModal()})}}class PageScroll{constructor(){btnScrollTo.addEventListener("click",()=>{section2.scrollIntoView({behavior:"smooth"})}),document.querySelector(".nav__links").addEventListener("click",function(e){e.preventDefault(),e.target.classList.contains("nav__link")&&(e=e.target.getAttribute("href"),document.querySelector(e).scrollIntoView({behavior:"smooth"}))}),navIcon.addEventListener("click",e=>{navBar.classList.toggle("hidden")}),navBar.addEventListener("click",e=>{e.preventDefault(),e.target.classList.contains("nav__link")&&(e=e.target.getAttribute("href"),document.querySelector(e).scrollIntoView({behavior:"smooth"}),navBar.classList.add("hidden"))})}}class TabbedComponent{constructor(){tabsContainer.addEventListener("click",function(e){e=e.target.closest(".skills__tab");e&&(tabs.forEach(e=>e.classList.remove("skills__tab--active")),tabsContent.forEach(e=>e.classList.remove("skills__content--active")),e.classList.add("skills__tab--active"),document.querySelector(".skills__content--"+e.dataset.tab).classList.add("skills__content--active"))})}}class MenuFade{constructor(){nav.addEventListener("mouseover",this.handleHover.bind(.5)),nav.addEventListener("mouseout",this.handleHover.bind(1))}handleHover(e){if(e.target.classList.contains("nav__link")){const s=e.target;var e=s.closest(".nav").querySelectorAll(".nav__link"),t=s.closest(".nav").querySelector("img");e.forEach(e=>{e!==s&&(e.style.opacity=this)}),t.style.opacity=this}}}class Sticky{constructor(){var e=document.querySelector(".header"),t=nav.getBoundingClientRect().height;new IntersectionObserver(this.stickyNav,{root:null,threshold:0,rootMargin:`-${t}px`}).observe(e)}stickyNav(e){var[e]=e;e.isIntersecting?nav.classList.remove("sticky"):nav.classList.add("sticky")}}class Skills{constructor(){var e=document.querySelector(".skills__blur");e.addEventListener("mouseover",this.skillsHover.bind(10)),e.addEventListener("mouseout",this.skillsHover.bind(0))}skillsHover(e){const t=e.target;(t.closest(".skills__images")?.querySelectorAll(".skills__image"))?.forEach(e=>{e!==t&&(e.style.filter=`blur(${this}px)`)})}}class RevealSections{constructor(){var e=document.querySelectorAll(".section");const t=new IntersectionObserver(this.revealSection,{root:null,threshold:.1});e.forEach(function(e){t.observe(e),e.classList.add("section--hidden")})}revealSection(e,t){var[e]=e;e.isIntersecting&&(e.target.classList.remove("section--hidden"),t.unobserve(e.target))}}class LazyLoading{constructor(){var e=document.querySelectorAll("img[data-src]");const t=new IntersectionObserver(this.loadImg,{root:null,threshold:0,rootMargin:"200px"});e.forEach(e=>t.observe(e))}loadImg(e,t){const[s]=e;s.isIntersecting&&(s.target.src=s.target.dataset.src,s.target.addEventListener("load",function(){s.target.classList.remove("lazy-img")}),t.unobserve(s.target))}}class Slider{constructor(){this.slider()}slider(){const e=document.querySelectorAll(".slide");var t=document.querySelector(".slider__btn--left"),s=document.querySelector(".slider__btn--right");const o=document.querySelector(".dots");let n=0;function l(e){document.querySelectorAll(".dots__dot").forEach(e=>e.classList.remove("dots__dot--active")),document.querySelector(`.dots__dot[data-slide="${e}"]`).classList.add("dots__dot--active")}function c(s){e.forEach((e,t)=>e.style.transform=`translateX(${100*(t-s)}%)`)}function r(){n===i-1?n=0:n++,c(n),l(n)}function a(){0===n?n=i-1:n--,c(n),l(n)}const i=e.length;c(0),e.forEach(function(e,t){o.insertAdjacentHTML("beforeend",`<button class="dots__dot" data-slide="${t}"></button>`)}),l(0),s.addEventListener("click",r),t.addEventListener("click",a),document.addEventListener("keydown",function(e){"ArrowLeft"===e.key&&a(),"ArrowRight"===e.key&&r()}),o.addEventListener("click",function(e){e.target.classList.contains("dots__dot")&&(e=e.target.dataset["slide"],c(e),l(e))})}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNsYXNzZXMuanMiXSwibmFtZXMiOlsiQXBwIiwiY29uc3RydWN0b3IiLCJNb2RhbCIsIlBhZ2VTY3JvbGwiLCJUYWJiZWRDb21wb25lbnQiLCJNZW51RmFkZSIsIlN0aWNreSIsIlJldmVhbFNlY3Rpb25zIiwiU2tpbGxzIiwiTGF6eUxvYWRpbmciLCJTbGlkZXIiLCJhcHAiLCJtb2RhbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm92ZXJsYXkiLCJidG5DbG9zZU1vZGFsIiwiYnRuc09wZW5Nb2RhbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidG5TY3JvbGxUbyIsInNlY3Rpb24yIiwidGFicyIsInRhYnNDb250YWluZXIiLCJ0YWJzQ29udGVudCIsIm5hdiIsIm5hdkJhciIsIm5hdkljb24iLCJmb3JFYWNoIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRoaXMiLCJvcGVuTW9kYWwiLCJsZXQiLCJpIiwibGVuZ3RoIiwiY2xvc2VNb2RhbCIsImVzY0tleSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImtleSIsImNvbnRhaW5zIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsInRhcmdldCIsImlkIiwiZ2V0QXR0cmlidXRlIiwidG9nZ2xlIiwiY2xpY2tlZCIsImNsb3Nlc3QiLCJ0IiwiYyIsImRhdGFzZXQiLCJ0YWIiLCJoYW5kbGVIb3ZlciIsImJpbmQiLCJsaW5rIiwic2libGluZ3MiLCJsb2dvIiwiZWwiLCJzdHlsZSIsIm9wYWNpdHkiLCJoZWFkZXIiLCJuYXZIZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoZWlnaHQiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsInN0aWNreU5hdiIsInJvb3QiLCJ0aHJlc2hvbGQiLCJyb290TWFyZ2luIiwib2JzZXJ2ZSIsImVudHJpZXMiLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwic2VjdGlvblRpdGxlIiwic2tpbGxzSG92ZXIiLCJmaWx0ZXIiLCJhbGxTZWN0aW9ucyIsInNlY3Rpb25PYnNlcnZlciIsInJldmVhbFNlY3Rpb24iLCJzZWN0aW9uIiwib2JzZXJ2ZXIiLCJ1bm9ic2VydmUiLCJpbWdUYXJnZXRzIiwiaW1nT2JzZXJ2ZXIiLCJsb2FkSW1nIiwiaW1nIiwic3JjIiwic2xpZGVyIiwic2xpZGVzIiwiYnRuTGVmdCIsImJ0blJpZ2h0IiwiZG90Q29udGFpbmVyIiwiY3VyU0xpZGUiLCJhY3RpdmF0ZURvdCIsInNsaWRlIiwiZG90IiwiZ29Ub1NsaWRlIiwicyIsInRyYW5zZm9ybSIsIm5leHRTbGlkZSIsIm1heFNsaWRlIiwicHJldlNsaWRlIiwiXyIsImluc2VydEFkamFjZW50SFRNTCJdLCJtYXBwaW5ncyI6Ik1BQUFBLElBQ0FDLGNBQ0EsSUFBQUMsTUFDQSxJQUFBQyxXQUNBLElBQUFDLGdCQUNBLElBQUFDLFNBQ0EsSUFBQUMsT0FDQSxJQUFBQyxlQUNBLElBQUFDLE9BQ0EsSUFBQUMsWUFDQSxJQUFBQyxNQUNBLENBQ0EsQ0FDQSxNQUFBQyxJQUFBLElBQUFYLElDVkFZLE1BQUFDLFNBQUFDLGNBQUEsUUFBQSxFQUNBQyxRQUFBRixTQUFBQyxjQUFBLFVBQUEsRUFDQUUsY0FBQUgsU0FBQUMsY0FBQSxtQkFBQSxFQUNBRyxjQUFBSixTQUFBSyxpQkFBQSxrQkFBQSxFQUNBQyxZQUFBTixTQUFBQyxjQUFBLGlCQUFBLEVBQ0FNLFNBQUFQLFNBQUFDLGNBQUEsYUFBQSxFQUVBTyxLQUFBUixTQUFBSyxpQkFBQSxjQUFBLEVBQ0FJLGNBQUFULFNBQUFDLGNBQUEsd0JBQUEsRUFDQVMsWUFBQVYsU0FBQUssaUJBQUEsa0JBQUEsRUFFQU0sSUFBQVgsU0FBQUMsY0FBQSxNQUFBLEVBQ0FXLE9BQUFaLFNBQUFDLGNBQUEsa0JBQUEsRUFDQVksUUFBQWIsU0FBQUMsY0FBQSxrQkFBQSxRQUlBWixNQUNBRCxjQUNBZ0IsY0FBQVUsUUFBQUMsR0FBQUEsRUFBQUMsaUJBQUEsUUFBQUMsS0FBQUMsU0FBQSxDQUFBLEVBRUEsSUFBQUMsSUFBQUMsRUFBQSxFQUFBQSxFQUFBaEIsY0FBQWlCLE9BQUFELENBQUEsR0FDQWhCLGNBQUFnQixHQUFBSixpQkFBQSxRQUFBQyxLQUFBQyxTQUFBLEVBRUFmLGNBQUFhLGlCQUFBLFFBQUFDLEtBQUFLLFVBQUEsRUFDQXBCLFFBQUFjLGlCQUFBLFFBQUFDLEtBQUFLLFVBQUEsRUFFQUwsS0FBQU0sT0FBQSxDQUNBLENBRUFMLFVBQUFNLEdBQ0FBLEVBQUFDLGVBQUEsRUFDQTFCLE1BQUEyQixVQUFBQyxPQUFBLFFBQUEsRUFDQXpCLFFBQUF3QixVQUFBQyxPQUFBLFFBQUEsQ0FDQSxDQUVBTCxhQUNBdkIsTUFBQTJCLFVBQUFFLElBQUEsUUFBQSxFQUNBMUIsUUFBQXdCLFVBQUFFLElBQUEsUUFBQSxDQUNBLENBRUFMLFNBQ0F2QixTQUFBZ0IsaUJBQUEsVUFBQVEsSUFDQSxXQUFBQSxFQUFBSyxLQUFBOUIsTUFBQTJCLFVBQUFJLFNBQUEsUUFBQSxHQUNBYixLQUFBSyxXQUFBLENBRUEsQ0FBQSxDQUNBLENBQ0EsT0FJQWhDLFdBQ0FGLGNBRUFrQixZQUFBVSxpQkFBQSxRQUFBLEtBQ0FULFNBQUF3QixlQUFBLENBQUFDLFNBQUEsUUFBQSxDQUFBLENBQ0EsQ0FBQSxFQUVBaEMsU0FDQUMsY0FBQSxhQUFBLEVBQ0FlLGlCQUFBLFFBQUEsU0FBQVEsR0FDQUEsRUFBQUMsZUFBQSxFQUVBRCxFQUFBUyxPQUFBUCxVQUFBSSxTQUFBLFdBQUEsSUFDQUksRUFBQVYsRUFBQVMsT0FBQUUsYUFBQSxNQUFBLEVBQ0FuQyxTQUFBQyxjQUFBaUMsQ0FBQSxFQUFBSCxlQUFBLENBQUFDLFNBQUEsUUFBQSxDQUFBLEVBRUEsQ0FBQSxFQUdBbkIsUUFBQUcsaUJBQUEsUUFBQVEsSUFDQVosT0FBQWMsVUFBQVUsT0FBQSxRQUFBLENBQ0EsQ0FBQSxFQUVBeEIsT0FBQUksaUJBQUEsUUFBQVEsSUFDQUEsRUFBQUMsZUFBQSxFQUVBRCxFQUFBUyxPQUFBUCxVQUFBSSxTQUFBLFdBQUEsSUFDQUksRUFBQVYsRUFBQVMsT0FBQUUsYUFBQSxNQUFBLEVBQ0FuQyxTQUFBQyxjQUFBaUMsQ0FBQSxFQUFBSCxlQUFBLENBQUFDLFNBQUEsUUFBQSxDQUFBLEVBRUFwQixPQUFBYyxVQUFBRSxJQUFBLFFBQUEsRUFFQSxDQUFBLENBQ0EsQ0FDQSxPQUlBckMsZ0JBQ0FILGNBQ0FxQixjQUFBTyxpQkFBQSxRQUFBLFNBQUFRLEdBQ0FhLEVBQUFiLEVBQUFTLE9BQUFLLFFBQUEsY0FBQSxFQUVBRCxJQUVBN0IsS0FBQU0sUUFBQXlCLEdBQUFBLEVBQUFiLFVBQUFDLE9BQUEscUJBQUEsQ0FBQSxFQUNBakIsWUFBQUksUUFBQTBCLEdBQUFBLEVBQUFkLFVBQUFDLE9BQUEseUJBQUEsQ0FBQSxFQUVBVSxFQUFBWCxVQUFBRSxJQUFBLHFCQUFBLEVBRUE1QixTQUNBQyxjQUFBLHFCQUFBb0MsRUFBQUksUUFBQUMsR0FBQSxFQUNBaEIsVUFBQUUsSUFBQSx5QkFBQSxFQUNBLENBQUEsQ0FDQSxDQUNBLE9BSUFwQyxTQUNBSixjQUNBdUIsSUFBQUssaUJBQUEsWUFBQUMsS0FBQTBCLFlBQUFDLEtBQUEsRUFBQSxDQUFBLEVBQ0FqQyxJQUFBSyxpQkFBQSxXQUFBQyxLQUFBMEIsWUFBQUMsS0FBQSxDQUFBLENBQUEsQ0FDQSxDQUNBRCxZQUFBbkIsR0FDQSxHQUFBQSxFQUFBUyxPQUFBUCxVQUFBSSxTQUFBLFdBQUEsRUFBQSxDQUNBLE1BQUFlLEVBQUFyQixFQUFBUyxPQUNBLElBQUFhLEVBQUFELEVBQUFQLFFBQUEsTUFBQSxFQUFBakMsaUJBQUEsWUFBQSxFQUNBMEMsRUFBQUYsRUFBQVAsUUFBQSxNQUFBLEVBQUFyQyxjQUFBLEtBQUEsRUFFQTZDLEVBQUFoQyxRQUFBa0MsSUFDQUEsSUFBQUgsSUFBQUcsRUFBQUMsTUFBQUMsUUFBQWpDLEtBQ0EsQ0FBQSxFQUNBOEIsRUFBQUUsTUFBQUMsUUFBQWpDLElBQ0EsQ0FDQSxDQUNBLE9BSUF4QixPQUNBTCxjQUNBLElBQUErRCxFQUFBbkQsU0FBQUMsY0FBQSxTQUFBLEVBQ0FtRCxFQUFBekMsSUFBQTBDLHNCQUFBLEVBQUFDLE9BRUEsSUFBQUMscUJBQUF0QyxLQUFBdUMsVUFBQSxDQUNBQyxLQUFBLEtBQ0FDLFVBQUEsRUFDQUMsZUFBQVAsS0FDQSxDQUFBLEVBQ0FRLFFBQUFULENBQUEsQ0FDQSxDQUNBSyxVQUFBSyxHQUNBLEdBQUEsQ0FBQUMsR0FBQUQsRUFFQUMsRUFBQUMsZUFDQXBELElBQUFlLFVBQUFDLE9BQUEsUUFBQSxFQURBaEIsSUFBQWUsVUFBQUUsSUFBQSxRQUFBLENBRUEsQ0FDQSxPQUlBakMsT0FDQVAsY0FDQSxJQUFBNEUsRUFBQWhFLFNBQUFDLGNBQUEsZUFBQSxFQUNBK0QsRUFBQWhELGlCQUFBLFlBQUFDLEtBQUFnRCxZQUFBckIsS0FBQSxFQUFBLENBQUEsRUFDQW9CLEVBQUFoRCxpQkFBQSxXQUFBQyxLQUFBZ0QsWUFBQXJCLEtBQUEsQ0FBQSxDQUFBLENBQ0EsQ0FDQXFCLFlBQUF6QyxHQUNBLE1BQUFxQixFQUFBckIsRUFBQVMsUUFDQVksRUFDQVAsUUFBQSxpQkFBQSxHQUNBakMsaUJBQUEsZ0JBQUEsSUFFQVMsUUFBQWtDLElBQ0FBLElBQUFILElBQ0FHLEVBQUFDLE1BQUFpQixlQUFBakQsVUFFQSxDQUFBLENBQ0EsQ0FDQSxPQUlBdkIsZUFDQU4sY0FDQSxJQUFBK0UsRUFBQW5FLFNBQUFLLGlCQUFBLFVBQUEsRUFDQSxNQUFBK0QsRUFBQSxJQUFBYixxQkFBQXRDLEtBQUFvRCxjQUFBLENBQ0FaLEtBQUEsS0FDQUMsVUFBQSxFQUNBLENBQUEsRUFFQVMsRUFBQXJELFFBQUEsU0FBQXdELEdBQ0FGLEVBQUFSLFFBQUFVLENBQUEsRUFDQUEsRUFBQTVDLFVBQUFFLElBQUEsaUJBQUEsQ0FDQSxDQUFBLENBQ0EsQ0FDQXlDLGNBQUFSLEVBQUFVLEdBQ0EsR0FBQSxDQUFBVCxHQUFBRCxFQUNBQyxFQUFBQyxpQkFFQUQsRUFBQTdCLE9BQUFQLFVBQUFDLE9BQUEsaUJBQUEsRUFDQTRDLEVBQUFDLFVBQUFWLEVBQUE3QixNQUFBLEVBQ0EsQ0FDQSxPQUlBckMsWUFDQVIsY0FDQSxJQUFBcUYsRUFBQXpFLFNBQUFLLGlCQUFBLGVBQUEsRUFDQSxNQUFBcUUsRUFBQSxJQUFBbkIscUJBQUF0QyxLQUFBMEQsUUFBQSxDQUNBbEIsS0FBQSxLQUNBQyxVQUFBLEVBQ0FDLFdBQUEsT0FDQSxDQUFBLEVBRUFjLEVBQUEzRCxRQUFBOEQsR0FBQUYsRUFBQWQsUUFBQWdCLENBQUEsQ0FBQSxDQUNBLENBRUFELFFBQUFkLEVBQUFVLEdBQ0EsS0FBQSxDQUFBVCxHQUFBRCxFQUVBQyxFQUFBQyxpQkFFQUQsRUFBQTdCLE9BQUE0QyxJQUFBZixFQUFBN0IsT0FBQVEsUUFBQW9DLElBRUFmLEVBQUE3QixPQUFBakIsaUJBQUEsT0FBQSxXQUNBOEMsRUFBQTdCLE9BQUFQLFVBQUFDLE9BQUEsVUFBQSxDQUNBLENBQUEsRUFFQTRDLEVBQUFDLFVBQUFWLEVBQUE3QixNQUFBLEVBQ0EsQ0FDQSxPQUlBcEMsT0FDQVQsY0FDQTZCLEtBQUE2RCxPQUFBLENBQ0EsQ0FFQUEsU0FDQSxNQUFBQyxFQUFBL0UsU0FBQUssaUJBQUEsUUFBQSxFQUNBLElBQUEyRSxFQUFBaEYsU0FBQUMsY0FBQSxvQkFBQSxFQUNBZ0YsRUFBQWpGLFNBQUFDLGNBQUEscUJBQUEsRUFDQSxNQUFBaUYsRUFBQWxGLFNBQUFDLGNBQUEsT0FBQSxFQUVBa0IsSUFBQWdFLEVBQUEsRUFhQSxTQUFBQyxFQUFBQyxHQUNBckYsU0FDQUssaUJBQUEsWUFBQSxFQUNBUyxRQUFBd0UsR0FBQUEsRUFBQTVELFVBQUFDLE9BQUEsbUJBQUEsQ0FBQSxFQUVBM0IsU0FDQUMsd0NBQUFvRixLQUFBLEVBQ0EzRCxVQUFBRSxJQUFBLG1CQUFBLENBQ0EsQ0FFQSxTQUFBMkQsRUFBQUYsR0FDQU4sRUFBQWpFLFFBQ0EsQ0FBQTBFLEVBQUFwRSxJQUFBb0UsRUFBQXZDLE1BQUF3Qyx3QkFBQSxLQUFBckUsRUFBQWlFLE1BQ0EsQ0FDQSxDQUdBLFNBQUFLLElBQ0FQLElBQUFRLEVBQUEsRUFDQVIsRUFBQSxFQUVBQSxDQUFBLEdBRUFJLEVBQUFKLENBQUEsRUFDQUMsRUFBQUQsQ0FBQSxDQUNBLENBRUEsU0FBQVMsSUFDQSxJQUFBVCxFQUNBQSxFQUFBUSxFQUFBLEVBRUFSLENBQUEsR0FFQUksRUFBQUosQ0FBQSxFQUNBQyxFQUFBRCxDQUFBLENBQ0EsQ0EvQ0EsTUFBQVEsRUFBQVosRUFBQTFELE9Ba0RBa0UsRUFBQSxDQUFBLEVBOUNBUixFQUFBakUsUUFBQSxTQUFBK0UsRUFBQXpFLEdBQ0E4RCxFQUFBWSxtQkFDQSxxREFDQTFFLGNBQ0EsQ0FDQSxDQUFBLEVBMkNBZ0UsRUFBQSxDQUFBLEVBS0FILEVBQUFqRSxpQkFBQSxRQUFBMEUsQ0FBQSxFQUNBVixFQUFBaEUsaUJBQUEsUUFBQTRFLENBQUEsRUFDQTVGLFNBQUFnQixpQkFBQSxVQUFBLFNBQUFRLEdBQ0EsY0FBQUEsRUFBQUssS0FBQStELEVBQUEsRUFDQSxlQUFBcEUsRUFBQUssS0FBQTZELEVBQUEsQ0FDQSxDQUFBLEVBRUFSLEVBQUFsRSxpQkFBQSxRQUFBLFNBQUFRLEdBQ0FBLEVBQUFTLE9BQUFQLFVBQUFJLFNBQUEsV0FBQSxJQUNBdUQsRUFBQTdELEVBQUFTLE9BQUFRLFFBQUE0QyxTQUNBRSxFQUFBRixDQUFBLEVBQ0FELEVBQUFDLENBQUEsRUFFQSxDQUFBLENBQ0EsQ0FDQSIsImZpbGUiOiJzY3JpcHQtbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXBwIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIG5ldyBNb2RhbCgpO1xyXG4gICAgbmV3IFBhZ2VTY3JvbGwoKTtcclxuICAgIG5ldyBUYWJiZWRDb21wb25lbnQoKTtcclxuICAgIG5ldyBNZW51RmFkZSgpO1xyXG4gICAgbmV3IFN0aWNreSgpO1xyXG4gICAgbmV3IFJldmVhbFNlY3Rpb25zKCk7XHJcbiAgICBuZXcgU2tpbGxzKCk7XHJcbiAgICBuZXcgTGF6eUxvYWRpbmcoKTtcclxuICAgIG5ldyBTbGlkZXIoKTtcclxuICB9XHJcbn1cclxuY29uc3QgYXBwID0gbmV3IEFwcCgpO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBWYXJpYWJsZXNcclxuY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcclxuY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vdmVybGF5Jyk7XHJcbmNvbnN0IGJ0bkNsb3NlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLS1jbG9zZS1tb2RhbCcpO1xyXG5jb25zdCBidG5zT3Blbk1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ0bi0tc2hvdy1tb2RhbCcpO1xyXG5jb25zdCBidG5TY3JvbGxUbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tLXNjcm9sbC10bycpO1xyXG5jb25zdCBzZWN0aW9uMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWN0aW9uLS0yJyk7XHJcblxyXG5jb25zdCB0YWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNraWxsc19fdGFiJyk7XHJcbmNvbnN0IHRhYnNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2tpbGxzX190YWItY29udGFpbmVyJyk7XHJcbmNvbnN0IHRhYnNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNraWxsc19fY29udGVudCcpO1xyXG5cclxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdicpO1xyXG5jb25zdCBuYXZCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19saW5rcy0tYmFyJyk7XHJcbmNvbnN0IG5hdkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19saW5rLS1pY29uJyk7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gTW9kYWwgd2luZG93XHJcbmNsYXNzIE1vZGFsIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGJ0bnNPcGVuTW9kYWwuZm9yRWFjaChidG4gPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuTW9kYWwpKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ0bnNPcGVuTW9kYWwubGVuZ3RoOyBpKyspXHJcbiAgICAgIGJ0bnNPcGVuTW9kYWxbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Nb2RhbCk7XHJcblxyXG4gICAgYnRuQ2xvc2VNb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VNb2RhbCk7XHJcbiAgICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZU1vZGFsKTtcclxuXHJcbiAgICB0aGlzLmVzY0tleSgpO1xyXG4gIH1cclxuXHJcbiAgb3Blbk1vZGFsKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICB9XHJcblxyXG4gIGNsb3NlTW9kYWwoKSB7XHJcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgfVxyXG5cclxuICBlc2NLZXkoKSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XHJcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgIW1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBQQUdFIFNDUk9MTElOR1xyXG5jbGFzcyBQYWdlU2Nyb2xsIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIEJ1dHRvbiBzY3JvbGxpbmdcclxuICAgIGJ0blNjcm9sbFRvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBzZWN0aW9uMi5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcclxuICAgIH0pO1xyXG4gICAgLy8gUGFnZSBOYXZpZ2F0aW9uXHJcbiAgICBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLm5hdl9fbGlua3MnKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2X19saW5rJykpIHtcclxuICAgICAgICAgIGNvbnN0IGlkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJyk7XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlkKS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIC8vIFBhZ2UgTmF2aWdhdGlvbiBtb2JpbGUgdGFibGV0XHJcbiAgICBuYXZJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgIG5hdkJhci5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIG5hdkJhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZfX2xpbmsnKSkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpZCkuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XHJcblxyXG4gICAgICAgIG5hdkJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBUQUJCRUQgQ09NUE9ORU5UXHJcbmNsYXNzIFRhYmJlZENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0YWJzQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgY29uc3QgY2xpY2tlZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5za2lsbHNfX3RhYicpO1xyXG5cclxuICAgICAgaWYgKCFjbGlja2VkKSByZXR1cm47XHJcblxyXG4gICAgICB0YWJzLmZvckVhY2godCA9PiB0LmNsYXNzTGlzdC5yZW1vdmUoJ3NraWxsc19fdGFiLS1hY3RpdmUnKSk7XHJcbiAgICAgIHRhYnNDb250ZW50LmZvckVhY2goYyA9PiBjLmNsYXNzTGlzdC5yZW1vdmUoJ3NraWxsc19fY29udGVudC0tYWN0aXZlJykpO1xyXG5cclxuICAgICAgY2xpY2tlZC5jbGFzc0xpc3QuYWRkKCdza2lsbHNfX3RhYi0tYWN0aXZlJyk7XHJcblxyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKGAuc2tpbGxzX19jb250ZW50LS0ke2NsaWNrZWQuZGF0YXNldC50YWJ9YClcclxuICAgICAgICAuY2xhc3NMaXN0LmFkZCgnc2tpbGxzX19jb250ZW50LS1hY3RpdmUnKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gTUVOVSBGQURFIEFOSU1BVElPTlxyXG5jbGFzcyBNZW51RmFkZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBuYXYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5oYW5kbGVIb3Zlci5iaW5kKDAuNSkpO1xyXG4gICAgbmF2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5oYW5kbGVIb3Zlci5iaW5kKDEpKTtcclxuICB9XHJcbiAgaGFuZGxlSG92ZXIoZSkge1xyXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2X19saW5rJykpIHtcclxuICAgICAgY29uc3QgbGluayA9IGUudGFyZ2V0O1xyXG4gICAgICBjb25zdCBzaWJsaW5ncyA9IGxpbmsuY2xvc2VzdCgnLm5hdicpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2xpbmsnKTtcclxuICAgICAgY29uc3QgbG9nbyA9IGxpbmsuY2xvc2VzdCgnLm5hdicpLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xyXG5cclxuICAgICAgc2libGluZ3MuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgaWYgKGVsICE9PSBsaW5rKSBlbC5zdHlsZS5vcGFjaXR5ID0gdGhpcztcclxuICAgICAgfSk7XHJcbiAgICAgIGxvZ28uc3R5bGUub3BhY2l0eSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBTVElDS1kgTkFWSUdBVElPTlxyXG5jbGFzcyBTdGlja3kge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpO1xyXG4gICAgY29uc3QgbmF2SGVpZ2h0ID0gbmF2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICBjb25zdCBoZWFkZXJPYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLnN0aWNreU5hdiwge1xyXG4gICAgICByb290OiBudWxsLFxyXG4gICAgICB0aHJlc2hvbGQ6IDAsXHJcbiAgICAgIHJvb3RNYXJnaW46IGAtJHtuYXZIZWlnaHR9cHhgLFxyXG4gICAgfSk7XHJcbiAgICBoZWFkZXJPYnNlcnZlci5vYnNlcnZlKGhlYWRlcik7XHJcbiAgfVxyXG4gIHN0aWNreU5hdihlbnRyaWVzKSB7XHJcbiAgICBjb25zdCBbZW50cnldID0gZW50cmllcztcclxuXHJcbiAgICBpZiAoIWVudHJ5LmlzSW50ZXJzZWN0aW5nKSBuYXYuY2xhc3NMaXN0LmFkZCgnc3RpY2t5Jyk7XHJcbiAgICBlbHNlIG5hdi5jbGFzc0xpc3QucmVtb3ZlKCdzdGlja3knKTtcclxuICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vIFNLSUxMUyBCTFVSIEFOSU1BVElPTlxyXG5jbGFzcyBTa2lsbHMge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgY29uc3Qgc2VjdGlvblRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNraWxsc19fYmx1cicpO1xyXG4gICAgc2VjdGlvblRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuc2tpbGxzSG92ZXIuYmluZCgxMCkpO1xyXG4gICAgc2VjdGlvblRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5za2lsbHNIb3Zlci5iaW5kKDApKTtcclxuICB9XHJcbiAgc2tpbGxzSG92ZXIoZSkge1xyXG4gICAgY29uc3QgbGluayA9IGUudGFyZ2V0O1xyXG4gICAgY29uc3Qgc2libGluZ3MgPSBsaW5rXHJcbiAgICAgIC5jbG9zZXN0KCcuc2tpbGxzX19pbWFnZXMnKVxyXG4gICAgICA/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5za2lsbHNfX2ltYWdlJyk7XHJcblxyXG4gICAgc2libGluZ3M/LmZvckVhY2goZWwgPT4ge1xyXG4gICAgICBpZiAoZWwgIT09IGxpbmspIHtcclxuICAgICAgICBlbC5zdHlsZS5maWx0ZXIgPSBgYmx1cigke3RoaXN9cHgpYDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBSRVZFQUwgU0VDVElPTlNcclxuY2xhc3MgUmV2ZWFsU2VjdGlvbnMge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgY29uc3QgYWxsU2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpO1xyXG4gICAgY29uc3Qgc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRoaXMucmV2ZWFsU2VjdGlvbiwge1xyXG4gICAgICByb290OiBudWxsLFxyXG4gICAgICB0aHJlc2hvbGQ6IDAuMSxcclxuICAgIH0pO1xyXG5cclxuICAgIGFsbFNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKHNlY3Rpb24pIHtcclxuICAgICAgc2VjdGlvbk9ic2VydmVyLm9ic2VydmUoc2VjdGlvbik7XHJcbiAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnc2VjdGlvbi0taGlkZGVuJyk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV2ZWFsU2VjdGlvbihlbnRyaWVzLCBvYnNlcnZlcikge1xyXG4gICAgY29uc3QgW2VudHJ5XSA9IGVudHJpZXM7XHJcbiAgICBpZiAoIWVudHJ5LmlzSW50ZXJzZWN0aW5nKSByZXR1cm47XHJcblxyXG4gICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3NlY3Rpb24tLWhpZGRlbicpO1xyXG4gICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBMQVpZIExPQURJTkcgSU1BR0VTXHJcbmNsYXNzIExhenlMb2FkaW5nIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGNvbnN0IGltZ1RhcmdldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWdbZGF0YS1zcmNdJyk7XHJcbiAgICBjb25zdCBpbWdPYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLmxvYWRJbWcsIHtcclxuICAgICAgcm9vdDogbnVsbCxcclxuICAgICAgdGhyZXNob2xkOiAwLFxyXG4gICAgICByb290TWFyZ2luOiAnMjAwcHgnLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaW1nVGFyZ2V0cy5mb3JFYWNoKGltZyA9PiBpbWdPYnNlcnZlci5vYnNlcnZlKGltZykpO1xyXG4gIH1cclxuXHJcbiAgbG9hZEltZyhlbnRyaWVzLCBvYnNlcnZlcikge1xyXG4gICAgY29uc3QgW2VudHJ5XSA9IGVudHJpZXM7XHJcblxyXG4gICAgaWYgKCFlbnRyeS5pc0ludGVyc2VjdGluZykgcmV0dXJuO1xyXG5cclxuICAgIGVudHJ5LnRhcmdldC5zcmMgPSBlbnRyeS50YXJnZXQuZGF0YXNldC5zcmM7XHJcblxyXG4gICAgZW50cnkudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdsYXp5LWltZycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBTTElERVJcclxuY2xhc3MgU2xpZGVyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuc2xpZGVyKCk7XHJcbiAgfVxyXG5cclxuICBzbGlkZXIoKSB7XHJcbiAgICBjb25zdCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUnKTtcclxuICAgIGNvbnN0IGJ0bkxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyX19idG4tLWxlZnQnKTtcclxuICAgIGNvbnN0IGJ0blJpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fYnRuLS1yaWdodCcpO1xyXG4gICAgY29uc3QgZG90Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRvdHMnKTtcclxuXHJcbiAgICBsZXQgY3VyU0xpZGUgPSAwO1xyXG4gICAgY29uc3QgbWF4U2xpZGUgPSBzbGlkZXMubGVuZ3RoO1xyXG5cclxuICAgIC8vIGZ1bmN0aW9uc1xyXG4gICAgY29uc3QgY3JlYXRlRG90cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgc2xpZGVzLmZvckVhY2goZnVuY3Rpb24gKF8sIGkpIHtcclxuICAgICAgICBkb3RDb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKFxyXG4gICAgICAgICAgJ2JlZm9yZWVuZCcsXHJcbiAgICAgICAgICBgPGJ1dHRvbiBjbGFzcz1cImRvdHNfX2RvdFwiIGRhdGEtc2xpZGU9XCIke2l9XCI+PC9idXR0b24+YFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBhY3RpdmF0ZURvdCA9IGZ1bmN0aW9uIChzbGlkZSkge1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuZG90c19fZG90JylcclxuICAgICAgICAuZm9yRWFjaChkb3QgPT4gZG90LmNsYXNzTGlzdC5yZW1vdmUoJ2RvdHNfX2RvdC0tYWN0aXZlJykpO1xyXG5cclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihgLmRvdHNfX2RvdFtkYXRhLXNsaWRlPVwiJHtzbGlkZX1cIl1gKVxyXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKCdkb3RzX19kb3QtLWFjdGl2ZScpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBnb1RvU2xpZGUgPSBmdW5jdGlvbiAoc2xpZGUpIHtcclxuICAgICAgc2xpZGVzLmZvckVhY2goXHJcbiAgICAgICAgKHMsIGkpID0+IChzLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7MTAwICogKGkgLSBzbGlkZSl9JSlgKVxyXG4gICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBuZXh0IHNsaWRlXHJcbiAgICBjb25zdCBuZXh0U2xpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChjdXJTTGlkZSA9PT0gbWF4U2xpZGUgLSAxKSB7XHJcbiAgICAgICAgY3VyU0xpZGUgPSAwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN1clNMaWRlKys7XHJcbiAgICAgIH1cclxuICAgICAgZ29Ub1NsaWRlKGN1clNMaWRlKTtcclxuICAgICAgYWN0aXZhdGVEb3QoY3VyU0xpZGUpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBwcmV2U2xpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChjdXJTTGlkZSA9PT0gMCkge1xyXG4gICAgICAgIGN1clNMaWRlID0gbWF4U2xpZGUgLSAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN1clNMaWRlLS07XHJcbiAgICAgIH1cclxuICAgICAgZ29Ub1NsaWRlKGN1clNMaWRlKTtcclxuICAgICAgYWN0aXZhdGVEb3QoY3VyU0xpZGUpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBpbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBnb1RvU2xpZGUoMCk7XHJcbiAgICAgIGNyZWF0ZURvdHMoKTtcclxuICAgICAgYWN0aXZhdGVEb3QoMCk7XHJcbiAgICB9O1xyXG4gICAgaW5pdCgpO1xyXG5cclxuICAgIC8vIGV2ZW50IGhhbmRsZXJzXHJcbiAgICBidG5SaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5leHRTbGlkZSk7XHJcbiAgICBidG5MZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJldlNsaWRlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLmtleSA9PT0gJ0Fycm93TGVmdCcgJiYgcHJldlNsaWRlKCk7XHJcbiAgICAgIGUua2V5ID09PSAnQXJyb3dSaWdodCcgJiYgbmV4dFNsaWRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb3RDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkb3RzX19kb3QnKSkge1xyXG4gICAgICAgIGNvbnN0IHsgc2xpZGUgfSA9IGUudGFyZ2V0LmRhdGFzZXQ7XHJcbiAgICAgICAgZ29Ub1NsaWRlKHNsaWRlKTtcclxuICAgICAgICBhY3RpdmF0ZURvdChzbGlkZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXX0=
